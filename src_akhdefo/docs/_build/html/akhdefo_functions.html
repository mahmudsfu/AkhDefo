<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>akhdefo_functions package &#8212; AkhDefo Software 2.2.62 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="_static/flask.css?v=b87c8d14" />
    <script src="_static/documentation_options.js?v=1eda8c85"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Morenny Rock Glacier Optical Imagery Example" href="notebooks/RockGlacier_optical.html" />
    <link rel="prev" title="Documentation" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="notebooks/RockGlacier_optical.html" title="Morenny Rock Glacier Optical Imagery Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Akhdefo</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">akhdefo_functions package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="akhdefo-functions-package">
<h1>akhdefo_functions package<a class="headerlink" href="#akhdefo-functions-package" title="Link to this heading">¶</a></h1>
<section id="module-akhdefo_functions.Akhdefo_Coreg">
<span id="data-processing"></span><h2>Data Processing<a class="headerlink" href="#module-akhdefo_functions.Akhdefo_Coreg" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Coreg.Coregistration">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Coreg.</span></span><span class="sig-name descname"><span class="pre">Coregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_Folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_reliability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(64,</span> <span class="pre">64)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showFig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_ref_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Coreg.html#Coregistration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Coreg.Coregistration" title="Link to this definition">¶</a></dt>
<dd><p>Coregister multiple rasters using both the structural similarity index and the feature matching technique.
This function is based on the AROSICS Python library.</p>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input_Folder<span class="classifier">str</span></dt><dd><p>Path to input raster folders.</p>
</dd>
<dt>output_folder<span class="classifier">str</span></dt><dd><p>Directory to store coregistered and georeferenced raster in GeoTIFF format.</p>
</dd>
<dt>grid_res<span class="classifier">int</span></dt><dd><p>Grid resolution for coregistration.</p>
</dd>
<dt>min_reliability<span class="classifier">int</span></dt><dd><p>Structural similarity index threshold to differentiate deformation from raster shift (min=20, max=100).</p>
</dd>
<dt>window_size<span class="classifier">tuple</span></dt><dd><p>Window size for pixel search in coregistration.</p>
</dd>
<dt>path_figures<span class="classifier">str</span></dt><dd><p>Directory to store figures depicting displaced pixels in raster coordinate system units.</p>
</dd>
<dt>showFig<span class="classifier">bool</span></dt><dd><p>If True, display results. If False, do not display results.</p>
</dd>
<dt>no_data<span class="classifier">list</span></dt><dd><p>No data values to be ignored for both reference and target image.</p>
</dd>
<dt>single_ref_path<span class="classifier">str</span></dt><dd><p>Provide path to raster if interested in coregistering all rasters to a single reference. 
If left empty, the function will use subsequent rasters as reference.</p>
</dd>
<dt>step_size<span class="classifier">int, default=3</span></dt><dd><p>Determines how many images each image serves as a reference for. A value of 3 means every image 
acts as a reference for the next two images, and a value of 2 means every image acts as a reference for the next one.</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>The function saves the coregistered rasters and corresponding figures to specified directories.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Coreg.raster_alignment">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Coreg.</span></span><span class="sig-name descname"><span class="pre">raster_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Coreg.html#raster_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Coreg.raster_alignment" title="Link to this definition">¶</a></dt>
<dd><p>Aligns raster images in a given source directory to a reference image.</p>
<p>Args:
src_directory (str): Path to the source directory containing images to align.
ref_filename (str): Path to the reference image.
delete_files (bool): If True, deletes the temporary directory created for alignment process. Defaults to False.</p>
<p>Returns:
str: Path to the directory containing all registered images.</p>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.Filter_PreProc">
<dt class="sig sig-object py" id="akhdefo_functions.Filter_PreProc.Filter_PreProcess">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Filter_PreProc.</span></span><span class="sig-name descname"><span class="pre">Filter_PreProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unfiltered_folderPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UDM2_maskfolderPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Udm_Mask_Option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Filter_PreProc.html#Filter_PreProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Filter_PreProc.Filter_PreProcess" title="Link to this definition">¶</a></dt>
<dd><p>This program prepare and uses filters to balanace raster image brightness</p>
<section id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>unfiltered_folderPath:  str</p>
<p>UDM2_maskfolderPath:    str</p>
<p>outpath_dir:    str</p>
<dl class="simple">
<dt>Udm_Mask_Option:    bool</dt><dd><p>False if True the program uses planetlabs imagery unusable pixel mask to ignore and mask bad image pixels</p>
</dd>
<dt>plot_figure:    bool</dt><dd><p>True if you want to display output figure directly inside python</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Returns<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>geotif rasters</dt><dd><p>Filtered geotif rasters</p>
</dd>
<dt>Figures</dt><dd><p>plotted filtered rasters and mask for bad pixels</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Filter_PreProc.Raster_Correction">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Filter_PreProc.</span></span><span class="sig-name descname"><span class="pre">Raster_Correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowpass_kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bilateral_win_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bilateral_sigma_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bilateral_sigma_spatial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_percentiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[2,</span> <span class="pre">98]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'power'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vegetation_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CLAHE_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Filter_PreProc.html#Raster_Correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Filter_PreProc.Raster_Correction" title="Link to this definition">¶</a></dt>
<dd><p>Performs a series of image correction and enhancement operations on raster images,
specifically tailored for Synthetic Aperture Radar (SAR) data, but can be used for other rasters too.</p>
<p>This function achieves denoising, normalization, and contrast enhancement for raster images
based on user-specified parameters. The function is designed to work effectively with both 
optical and SAR imagery.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>input_path (str): Path to the directory containing input raster images.
output_path (str): Directory where corrected images and plots will be saved.
limit (int, optional): Maximum number of images to process. If None, all images are processed.
lowpass_kernel_size (int, optional): Size of the Gaussian low-pass filter kernel.
bilateral_win_size (int): Size of the bilateral filter window.
bilateral_sigma_color (int): Standard deviation for color space in bilateral filter.
bilateral_sigma_spatial (int): Standard deviation for spatial space in bilateral filter.
clip_percentiles (list): 2-element list containing lower and upper percentiles for clipping pixel values.
optical (bool): Indicates if the raster is optical imagery. Activates certain corrections specific to optical data.
scale (str): Mode of scaling (‘power’ for logarithmic normalization and ‘amplitude’ for linear).
Vegetation_mask (str, optional): Path to a raster file that represents a vegetation mask. Pixels in the input image that correspond to non-vegetation in the mask will be set to one.</p>
</dd>
<dt>Returns:</dt><dd><p>None. Outputs are saved to the specified directory.</p>
</dd>
<dt>Outputs:</dt><dd><ul class="simple">
<li><p>Corrected raster images saved in GeoTIFF format.</p></li>
<li><p>Plots comparing original, filtered, and corrected images along with their histograms.</p></li>
</ul>
</dd>
<dt>Usage:</dt><dd><p>Suitable for both SAR and optical imagery correction. Adjust filter parameters as per the nature of input raster
and desired output.</p>
</dd>
<dt>Notes:</dt><dd><ul class="simple">
<li><p>Ensure that the GDAL and other necessary libraries are correctly installed.</p></li>
<li><p>The function uses tqdm to provide a progress bar, so ensure it’s installed if you want the progress visualization.</p></li>
<li><p>The function has been optimized for a balance between performance and quality, but processing large raster datasets
might still be computationally intensive.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.Mosaic_Crop">
<dt class="sig sig-object py" id="akhdefo_functions.Mosaic_Crop.Crop_to_AOI">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Mosaic_Crop.</span></span><span class="sig-name descname"><span class="pre">Crop_to_AOI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Path_to_WorkingDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path_to_AOI_shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_CroppedDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.tif'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Mosaic_Crop.html#Crop_to_AOI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Mosaic_Crop.Crop_to_AOI" title="Link to this definition">¶</a></dt>
<dd><p>This program used to clip multiple  raster files</p>
<section id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Path_to_WorkingDir: str</dt><dd><p>path to raster working directory</p>
</dd>
<dt>Path_to_AOI_shapefile: str</dt><dd><p>path to Area of interest in shapefile format</p>
</dd>
<dt>output_CroppedDir: str </dt><dd><p>path to save cropped raster files</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Returns<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>cropped raster files</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Mosaic_Crop.Mosaic">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Mosaic_Crop.</span></span><span class="sig-name descname"><span class="pre">Mosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Path_to_WorkingDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_MosaicDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.tif'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Mosaic_Crop.html#Mosaic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Mosaic_Crop.Mosaic" title="Link to this definition">¶</a></dt>
<dd><p>This program mosiacs raster images in geotif format as well as grab dates of the satellite image taken for further processing. 
The current version only supports PlanetLabs ortho SurfaceReflectance products.</p>
<section id="id5">
<h3>Parameters<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>Path_to_WorkingDir: str</p>
<p>output_MosaicDir: str</p>
<dl>
<dt>img_mode: int</dt><dd><p>if img_mode=0 the the programs mosaics only the udm maskraster images.</p>
<p>if img_mode=1 the program mosiacs only  rasters data images</p>
</dd>
</dl>
</section>
<section id="id6">
<h3>Returns<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>Mosaiced raster images</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Mosaic_Crop.rasterClip">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Mosaic_Crop.</span></span><span class="sig-name descname"><span class="pre">rasterClip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rasterpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfilename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Mosaic_Crop.html#rasterClip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Mosaic_Crop.rasterClip" title="Link to this definition">¶</a></dt>
<dd><p>Clip a raster file using an Area Of Interest (AOI) defined by a shapefile.
Uses GDAL for processing.</p>
<section id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>rasterpath<span class="classifier">str</span></dt><dd><p>Path to the input raster file.</p>
</dd>
<dt>aoi<span class="classifier">str</span></dt><dd><p>Path to the Area Of Interest shapefile.</p>
</dd>
<dt>outfilename<span class="classifier">str</span></dt><dd><p>Path to the output clipped raster file.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.OpticalFlow">
<dt class="sig sig-object py" id="akhdefo_functions.OpticalFlow.DynamicChangeDetection">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.OpticalFlow.</span></span><span class="sig-name descname"><span class="pre">DynamicChangeDetection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Path_working_Directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path_UDM2_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AOI_shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path_to_DEMFile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Coh_Thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vel_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.063</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_sensor_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3125.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">udm_mask_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Median_Filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Set_fig_MinMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'origional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/OpticalFlow.html#DynamicChangeDetection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.OpticalFlow.DynamicChangeDetection" title="Link to this definition">¶</a></dt>
<dd><p>This program calculates optical flow velocity from triplets of daily optical satellite images.
Final Timeseris products will be a shapefile format using Time_Series function after stackprep step.</p>
<section id="id8">
<h3>Parameters<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Path_working_Directory: str</dt><dd><p>path to filtered raster images</p>
</dd>
<dt>Path_UDM2_folder: str</dt><dd><p>path to planetlabs udm2 mask files</p>
</dd>
<dt>Path_to_DEMFile: str</dt><dd><p>path to digital elevation model</p>
</dd>
<dt>AOI_shapefile: str</dt><dd><p>path to area of interest file in esri shapefile format</p>
</dd>
<dt>Coh_Thresh: float</dt><dd><p>similarity index threshold</p>
</dd>
<dt>vel_thresh: float</dt><dd><p>maximum velocity magnitude allowed to be measured; this will help the program to exlude rockfall velocity.
hence, only calculating displacement velocity.</p>
</dd>
<dt>image_sensor_resolution: float</dt><dd><p>Resolution of the satallite image raster resolution in millimeters. 
for instance Planetlabs ortho imagery 1 pixel=3125.0 mm</p>
</dd>
<dt>udm_mask_option: bool</dt><dd><p>True or False</p>
</dd>
<dt>cmap: str</dt><dd><p>matplotlib colormap such as “jet”, “hsv”, etc…</p>
</dd>
<dt>Median_Filter: bool</dt><dd><p>True or False</p>
</dd>
<dt>Set_fig_MinMax: bool</dt><dd><p>True or False</p>
</dd>
<dt>show_figure: bool</dt><dd><p>True or False</p>
</dd>
<dt>plot_option: str</dt><dd><p>“origional”,  “resampled”</p>
</dd>
</dl>
<p>xres: int</p>
<p>yres: int</p>
</section>
<section id="id9">
<h3>Returns<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Rasters</dt><dd><p>velocity in X direction(EW)
Velocity in Y direction(NS)</p>
</dd>
<dt>Figures  </dt><dd><p>Initial Timesereis Figures (those figures are only intermediate products needs calibration)</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.OpticalFlow.binary_mask">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.OpticalFlow.</span></span><span class="sig-name descname"><span class="pre">binary_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/OpticalFlow.html#binary_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.OpticalFlow.binary_mask" title="Link to this definition">¶</a></dt>
<dd><p>Function that generates a binary mask from a vector file (shp)</p>
<section id="id10">
<h3>Parameters<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>raster_path: str</dt><dd><p>path to the .tif;</p>
</dd>
<dt>shape_path: str</dt><dd><p>path to the shapefile.</p>
</dd>
<dt>output_path: str</dt><dd><p>Path to save the binary mask.</p>
</dd>
<dt>file_name: str</dt><dd><p>Name of the file.</p>
</dd>
</dl>
</section>
<section id="id11">
<h3>Returns<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Raster: ndarray</dt><dd><p>Binary Mask in tif format</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-akhdefo_functions.AkhdefoPlot">
<span id="visualization"></span><h2>Visualization<a class="headerlink" href="#module-akhdefo_functions.AkhdefoPlot" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.AkhdefoPlot.MeanProducts_plot_ts">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.AkhdefoPlot.</span></span><span class="sig-name descname"><span class="pre">MeanProducts_plot_ts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Figs_analysis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Set_fig_MinMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MinMaxRange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-100,</span> <span class="pre">100]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm/year'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/AkhdefoPlot.html#MeanProducts_plot_ts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.AkhdefoPlot.MeanProducts_plot_ts" title="Link to this definition">¶</a></dt>
<dd><p>This program used to plot shapefile data</p>
<section id="id12">
<h3>Parameters<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>path_to_shapefile : str</p>
<p>dem_path: str</p>
<p>out_folder: str</p>
<dl class="simple">
<dt>color_field: str</dt><dd><p>geopandas column name</p>
</dd>
</dl>
<p>Set_fig_MinMax: bool</p>
<p>MinMaxRange: list</p>
<p>opacity: float</p>
<p>cmap: str</p>
<p>point_size: str</p>
<dl class="simple">
<dt>cbar_label: str</dt><dd><p>“mm/year” or “degrees”, etc.. based on unit of the data column name in the color_field</p>
</dd>
</dl>
</section>
<section id="id13">
<h3>Returns<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<p>Figure</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.AkhdefoPlot.akhdefo_ts_plot">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.AkhdefoPlot.</span></span><span class="sig-name descname"><span class="pre">akhdefo_ts_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Set_fig_MinMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MinMaxRange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-50,</span> <span class="pre">50]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'VEL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_data_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_saveData_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fig_outputDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_Scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'year'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_dates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/AkhdefoPlot.html#akhdefo_ts_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.AkhdefoPlot.akhdefo_ts_plot" title="Link to this definition">¶</a></dt>
<dd><p>This program used for analysis time-series velocity profiles</p>
<section id="id14">
<h3>Parameters<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>user_data_points: str</dt><dd><p>provide path to csv. file contains x and y coordinate for points of interest
you can generate this file by providing path to path_saveData_points (POI.csv).
This is useful to save mouse click positions to repeat the plots for different datasets for example if you plot several TS profiles for
EW velocity product, you can recreate TS for the same exact position by saving POI.csv with path_saveData_points and then use that as input for the another
plot such as NS velocity product via setting user_datapoints=”POI.csv”</p>
</dd>
<dt>path_to_shapefile: str </dt><dd><p>type path to timeseries shapefile in stack_data/TS folder</p>
</dd>
<dt>dem_path: str</dt><dd><p>path to dem raster in geotif fromat</p>
</dd>
<dt>point_size: float</dt><dd><p>size of the sactter plot points</p>
</dd>
<dt>opacity: float </dt><dd><p>transparency of the scater overlay</p>
</dd>
<dt>cmap: str</dt><dd><p>Matplotlib colormap options example “RdYlBu_r, jet, turbo, hsv, etc…”</p>
</dd>
<dt>Set_fig_MinMax: bool</dt><dd><p>True or False</p>
</dd>
<dt>MinMaxRange: list</dt><dd><p>[-50,50]  Normalize plot colormap range if Set_fig_MinMax=True</p>
</dd>
<dt>color_field: str </dt><dd><p>‘VEL’ ,”VEL_2D”, ‘VEL_N’, ‘VEL_E’, ‘VELDir_MEA’</p>
</dd>
<dt>path_saveData_points: str</dt><dd><p>optional, provide directory path if you want to save profile data.
the data will be saved under POI.csv file</p>
</dd>
<dt>save_plot: bool</dt><dd><p>True or False</p>
</dd>
<dt>Fig_outputDir: str</dt><dd><p>if save_plot=True then
you save your profile plots in interactive html file and jpg image</p>
</dd>
<dt>VEL_Scale: str</dt><dd><p>‘year’ or ‘month’ projects the velocity into provided time-scale</p>
</dd>
<dt>filename_dates: str</dt><dd><p>provide path to Names.txt file, this file generated at stack_prep step</p>
</dd>
</dl>
</section>
<section id="id15">
<h3>Returns<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>Interactive Figures</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.AkhdefoPlot.akhdefo_viewer">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.AkhdefoPlot.</span></span><span class="sig-name descname"><span class="pre">akhdefo_viewer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_dem_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raster_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_resolution_meters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_conversion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_data_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect_raster</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/AkhdefoPlot.html#akhdefo_viewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.AkhdefoPlot.akhdefo_viewer" title="Link to this definition">¶</a></dt>
<dd><p>Overlays a raster file on a DEM hillshade and saves the plot as a PNG image.</p>
<p>Parameters:
path_to_dem_file (str): Path to the DEM file.
raster_file (str): Path to the raster file.
output_folder (str): Path to the folder where the output image will be saved.
title (str, optional): Title of the plot. Defaults to the raster file’s basename.
pixel_resolution_meters (float, optional): Pixel resolution of the raster in meters. Default is None get resolution from raster input.
output_file_name (str, optional): Name of the output PNG image. Defaults to the raster file’s basename.
alpha (float, optional): Alpha value for the raster overlay. Default is 0.5.
unit_conversion (str, optional): Unit conversion factor for the raster values. For example, ‘100cm’ for meters to centimeters conversion.
no_data_mask (bool, optional): If True, masks pixels with a value of 0 in the raster. Default is False.
colormap (str, optional): Colormap to use for the raster. Default is ‘jet’.
min_value (float, optional): Minimum value for normalization. Uses raster’s minimum if None.
max_value (float, optional): Maximum value for normalization. Uses raster’s maximum if None.
normalize (bool, optional): If True, normalizes the raster values. Default is False.
colorbar_label (str, optional): Label for the colorbar. 
show_figure (bool, optional): Whether to display the figure. Default is True.
aspect_raster (str, optional): whetehr to plot displacement vector. Dedulat is None 
cmap_aspect (str, optional): colormap to sue for the vector arrows
step (int, optional): density of the aspect vector arraows. Defulat is 10 pixel unit draw 1 arrow</p>
<p>Returns:
None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.AkhdefoPlot.plot_stackNetwork">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.AkhdefoPlot.</span></span><span class="sig-name descname"><span class="pre">plot_stackNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tab20'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_plot_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(5,</span> <span class="pre">30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/AkhdefoPlot.html#plot_stackNetwork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.AkhdefoPlot.plot_stackNetwork" title="Link to this definition">¶</a></dt>
<dd><p>This Program plots temporal network of triplets to be stacked for calculating 
Annual Mean Velocity from stacked optical images.</p>
<section id="id16">
<h3>Parameters<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>src_folder: str</dt><dd><p>path to georeferenced_folder</p>
</dd>
<dt>output_folder: str</dt><dd><p>path to output folder to save output Figure plot</p>
</dd>
<dt>cmap: str</dt><dd><p>colormap for the plot default is “tab20”</p>
</dd>
<dt>date_plot_interval: list</dt><dd><p>minumum and maximum plot x axis interval dates for the plot</p>
</dd>
<dt>marker_size: float</dt><dd><p>size of plotted points default is 15</p>
</dd>
</dl>
</section>
<section id="id17">
<h3>Returns<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<p>Figure</p>
</section>
</dd></dl>

</section>
<section id="module-akhdefo_functions.Akhdefo_TS">
<span id="time-series-analysis"></span><h2>Time Series Analysis<a class="headerlink" href="#module-akhdefo_functions.Akhdefo_TS" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_TS.Time_Series">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_TS.</span></span><span class="sig-name descname"><span class="pre">Time_Series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stacked_raster_EW</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked_raster_NS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputFilename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_Scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'year'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_TS.html#Time_Series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_TS.Time_Series" title="Link to this definition">¶</a></dt>
<dd><p>This program uses candiate velocity points from stackprep function and performs linear interpolation in time-domain to calibrate
stacked velocity. Additionally produces corrected timeseries velocity(daily) in a shapefile.</p>
<section id="id18">
<h3>Parameters<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<p>b   
stacked_raster_EW: str</p>
<p>stacked_raster_NS: str</p>
<dl class="simple">
<dt>velocity_points: str </dt><dd><p>Velcity Candidate points</p>
</dd>
<dt>dates_name: str</dt><dd><p>text file include name of each date in format YYYYMMDD</p>
</dd>
</dl>
<p>output_folder: str</p>
<p>outputFilename: str</p>
<dl class="simple">
<dt>VEL_Scale: str</dt><dd><p>‘year’ , “month” or empty  to calculate velocity within provided dataset date range</p>
</dd>
<dt>velocity_mode: str</dt><dd><p>“mean” or “linear”</p>
</dd>
<dt>master_reference: bool</dt><dd><p>True if calculate TS to a single reference date, False if calculate TS to subsequent Reference dates</p>
</dd>
</dl>
</section>
<section id="id19">
<h3>Returns<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<p>Time-series shape file of velocity and direction EW, NS, and 2D(resultant Velocity and direction)</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_TS.akhdefo_dashApp">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_TS.</span></span><span class="sig-name descname"><span class="pre">akhdefo_dashApp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Path_to_Shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8051</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Column_Name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BaseMap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basemap_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_TS.html#akhdefo_dashApp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_TS.akhdefo_dashApp" title="Link to this definition">¶</a></dt>
<dd><p>Initializes and runs a Dash web application for geospatial data analysis based on a provided shapefile.
This application provides a user interface to visualize geospatial data on maps and time-series plots.
It allows users to select a date range, a velocity range, and different plot types and options, such as
whether to include a trendline or not. It also has options for customizing the plot appearance by choosing 
from various color scales and editing the axis labels and title.</p>
<dl>
<dt>Parameters:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Path_to_Shapefile (str): The file path to the shapefile that contains the geospatial data to be analyzed.</dt><dd><p>If left empty, the application will not be able to start correctly.</p>
</dd>
</dl>
</li>
<li><p>port (int): The port number on which the Dash application will run. Defaults to 8051.</p></li>
</ul>
</dd>
<dt>Dependencies:</dt><dd><ul class="simple">
<li><p>dash: The core library for running the Dash app.</p></li>
<li><p>dash_bootstrap_components: Provides Bootstrap components for a nicer layout and responsiveness.</p></li>
<li><p>geopandas: For reading and handling geospatial data in the form of shapefiles.</p></li>
<li><p>plotly and plotly.express: For creating interactive plots.</p></li>
<li><p>pandas: For data manipulation and analysis.</p></li>
<li><p>matplotlib and cmocean: For additional colormap options.</p></li>
<li><p>numpy: For numerical operations, especially related to creating custom trendlines.</p></li>
</ul>
</dd>
<dt>The application consists of two main interactive elements:</dt><dd><ul>
<li><p>A map plot showing the spatial distribution of velocity data (<cite>VEL</cite>) where the user can select points.</p></li>
<li><p>A time-series plot that displays the average of selected data points over time, with the option to add a trendline.</p>
<blockquote>
<div><p>Additionally, the application includes a modal for editing plot titles and axis labels, inputs for
minimum and maximum velocity values, date pickers to filter data based on time, dropdowns for choosing color scales 
and plot types, and radio items for trendline options.</p>
</div></blockquote>
</li>
</ul>
</dd>
<dt>Callbacks:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>The application has callbacks to handle user interactions, updating plots based on user inputs, </dt><dd><p>and toggling the modal for editing plot attributes.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>The Dash app object configured to be run with <cite>app.run_server(port=port)</cite>.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>IOError: If the shapefile path is incorrect or the file cannot be read.</p></li>
<li><p>Exception: If there are any other issues reading the geospatial data or initializing the app.</p></li>
</ul>
</dd>
<dt>Usage:</dt><dd><p>To use this function, ensure that you have a valid shapefile and simply call <cite>akhdefo_dashApp(path_to_shapefile)</cite>.
Access the app in a web browser by navigating to <cite>http://127.0.0.1:&lt;port&gt;</cite> where <cite>port</cite> is the port number passed to the function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.Stacked_Velocity">
<dt class="sig sig-object py" id="akhdefo_functions.Stacked_Velocity.stackprep">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Stacked_Velocity.</span></span><span class="sig-name descname"><span class="pre">stackprep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_flowxnFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_toFlowynFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'YYYYMMDD'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'YYYYMMDD'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_stackedFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('month',</span> <span class="pre">'year')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Velocity_shapeFile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Raster_stack_correction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Stacked_Velocity.html#stackprep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Stacked_Velocity.stackprep" title="Link to this definition">¶</a></dt>
<dd><p>This program collects velocity candiate points for time-series analysis.</p>
<section id="id20">
<h3>Parameters<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>path_to_flowxnFolder: str</dt><dd><p>path to folder include east-west velocity files</p>
</dd>
<dt>path_toFlowynFolder: str</dt><dd><p>path to folder include north-south velocity files</p>
</dd>
<dt>dem: str</dt><dd><p>path to digital elevation model file will be used to geocode the products</p>
</dd>
<dt>print_list: bool</dt><dd><p>print list of temporal proceesed dates default is False</p>
</dd>
<dt>start_date: str</dt><dd><p>“YYYYMMDD”</p>
</dd>
<dt>end_date: str</dt><dd><p>“YYYYMMDD”</p>
</dd>
</dl>
<p>output_stackedFolder: str</p>
<dl class="simple">
<dt>VEL_scale: str</dt><dd><p>“month” or “year”) at this stage you can ignore this option; will be removed from future versions</p>
</dd>
<dt>xres: float</dt><dd><p>x resolution</p>
</dd>
<dt>yres: float</dt><dd><p>y resolution</p>
</dd>
</dl>
<p>Velocity_shapeFile: bool</p>
<blockquote>
<div><p>set to True if need to generate points for temporal deformation analysis</p>
</div></blockquote>
<dl class="simple">
<dt>Resampling: bool</dt><dd><p>if True reduce number of measurement points but faster processing</p>
</dd>
<dt>Raster_stack_correction: bool</dt><dd><p>if True this feature computes the linearly interpolated pixel values between subsequent time-slices(bands) in raster stack</p>
</dd>
</dl>
</section>
<section id="id21">
<h3>Returns<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>ESRI Shapefile</dt><dd><p>This file include candiate velocity points for timeseries analysis</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-akhdefo_functions.Akhdefo_Tools">
<span id="utilities"></span><h2>Utilities<a class="headerlink" href="#module-akhdefo_functions.Akhdefo_Tools" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.LeNet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">LeNet</span></span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#LeNet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.LeNet" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.LeNet.build">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#LeNet.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.LeNet.build" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.Lenet_Model_training">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">Lenet_Model_training</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DataForTraining'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'foggy_not_foggy.model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Model_stat_plot.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EPOCHS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">INIT_LR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#Lenet_Model_training"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.Lenet_Model_training" title="Link to this definition">¶</a></dt>
<dd><p>This function, Lenet_Model_train(), is designed to train a convolutional neural network (CNN) using the LeNet architecture. The network is trained on a dataset of images to classify whether they are “foggy” or “not foggy”.</p>
<section id="id22">
<h3>Parameters:<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>dataset: str</dt><dd><p>(default=”DataForTraining”) Path to the directory containing the image data for training. The images are expected to be in separate directories named after their corresponding class (“foggy” or “not foggy”).</p>
</dd>
<dt>model_out: str</dt><dd><p>(default=”foggy_not_foggy.model”) The name or path for the output file where the trained model will be saved in the h5 format.</p>
</dd>
<dt>plot: str</dt><dd><p>(default=”Model_stat_plot.png”) The name or path for the output image file where a plot of the training loss and accuracy will be saved.</p>
</dd>
<dt>EPOCHS: int</dt><dd><p>(default=100)The number of epochs to use for training.</p>
</dd>
<dt>INIT_LR: float</dt><dd><p>(default=1e-3)The initial learning rate for the Adam optimizer.</p>
</dd>
<dt>BS: int</dt><dd><p>(default=32)The batch size for training.</p>
</dd>
</dl>
</section>
<section id="id23">
<h3>Returns:<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Trains a LeNet model on the given dataset.</p></li>
<li><p>Saves the trained model to disk in the h5 format.</p></li>
<li><p>Plots the training and validation loss and accuracy as a function of epoch number, and saves the plot to disk. The plot also includes the model summary.</p></li>
<li><p>Note: The function uses data augmentation techniques during training, including random rotations, width and height shifts, shearing, zooming, and horizontal flipping.</p></li>
<li><p>This function uses the TensorFlow, Keras, OpenCV, and matplotlib libraries.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.akhdefo_fitPlane">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">akhdefo_fitPlane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dem_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_planeFolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Planes_out'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#akhdefo_fitPlane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.akhdefo_fitPlane" title="Link to this definition">¶</a></dt>
<dd><p>Fit planes to points in a Digital Elevation Model (DEM) and visualize the results.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>dem_data (str): Path to the DEM data file (GeoTIFF format).</p></li>
<li><p>line_shapefile (str): Path to the shapefile containing line features representing planes.</p></li>
<li><p>out_planeFolder (str): Path to the folder where the output plane data will be saved.</p></li>
</ul>
</dd>
<dt>How It Works:</dt><dd><p>This function reads a DEM and shapefile, allows the user to interactively select points from the DEM,
fits planes to the selected points, and visualizes the results in 2D and 3D plots. It also provides options
to save the fitted planes as XYZ and DXF files. additionally plots poles to planes on polar grid and rose diagram for strike/trends of planes</p>
</dd>
<dt>Note:</dt><dd><ul class="simple">
<li><p>The function utilizes various libraries such as numpy, matplotlib, tkinter, osgeo (GDAL), and geopandas.</p></li>
<li><p>Ensure that the required libraries and dependencies are installed to use this function effectively.</p></li>
</ul>
</dd>
<dt>Example Usage:</dt><dd><p>akhdefo_fitPlane(dem_data=’path/to/dem.tif’,line_shapefile=’path/to/lines.shp’,out_planeFolder=’output/folder’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.assign_fake_projection">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">assign_fake_projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#assign_fake_projection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.assign_fake_projection" title="Link to this definition">¶</a></dt>
<dd><section id="note">
<h3>Note<a class="headerlink" href="#note" title="Link to this heading">¶</a></h3>
<p>This program assigns fake latlon geographic coordinates to ground-based images 
so that it can be ingest using gdal and rasterio geospatial libraries for further processing</p>
<dl class="simple">
<dt>input_dir: str</dt><dd><p>path to image directories without projection info</p>
</dd>
<dt>output_dir: str</dt><dd><p>output path image directory for images included projection info</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.calculate_and_save_aspect_raster">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">calculate_and_save_aspect_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ew_raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#calculate_and_save_aspect_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.calculate_and_save_aspect_raster" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the aspect raster from east-west and north-south displacement rasters and save it.</p>
<p>This function reads two raster files representing east-west (EW) and north-south (NS) 
displacements, calculates the aspect of each pixel, and saves the result as a new raster file.
Aspect is calculated in degrees from north (0 degrees), east (90 degrees), south (180 degrees),
and west (270 degrees).</p>
<p>Parameters:
- ew_raster_path (str): File path for the east-west displacement raster.
- ns_raster_path (str): File path for the north-south displacement raster.
- output_raster_path (str): File path for the output aspect raster.</p>
<p>Returns:
None. The result is saved as a new raster file at the specified output path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.calculate_height_change">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">calculate_height_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#calculate_height_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.calculate_height_change" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the height change using the slope and distance for each pixel.</p>
<p>Parameters:
slope (numpy.ndarray): Array of slope values in degrees.
distance (numpy.ndarray): Array of distance values.</p>
<p>Returns:
numpy.ndarray: Array of height changes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.calculate_slope">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">calculate_slope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#calculate_slope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.calculate_slope" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the slope at each pixel using the aspect to determine direction.</p>
<p>Parameters:
dem (numpy.ndarray): Digital Elevation Model (DEM) array.
aspect (numpy.ndarray): Aspect array.
dx (float):  x Spatial resolution of the raster (distance between pixels).
dy (float):  y Spatial resolution of the raster (distance between pixels).</p>
<p>Returns:
numpy.ndarray: Array of slope values in degrees.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.calculate_volume">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">calculate_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elevation_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#calculate_volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.calculate_volume" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the volume based on an elevation map and a slope map,
and save the volume map as a GeoTIFF file. Optionally, plot the volume map as a figure and save it.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>elevation_map (str): File path to the elevation map raster.
slope_map (ndarray): 2D array representing the slope values.
cell_size (float): Size of each cell in the map (e.g., length of one side of a square cell).
output_file (str): Output file path for saving the volume map as a GeoTIFF.
plot_map (bool, optional): Whether to plot the volume map as a figure. Default is False.
plot_file (str, optional): Output file path for saving the volume map plot. Required if plot_map is True.</p>
</dd>
<dt>Returns:</dt><dd><p>ndarray: The calculated volume map.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.calculate_volume_change">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">calculate_volume_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height_change</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#calculate_volume_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.calculate_volume_change" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the volume change for each pixel.</p>
<p>Parameters:
height_change (numpy.ndarray): Array of height changes.
pixel_area (float): Area of a single pixel.</p>
<p>Returns:
numpy.ndarray: Array of volume changes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.classification">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dataset_imagery'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trained_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'foggy_not_foggy.model'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.classification" title="Link to this definition">¶</a></dt>
<dd><p>Classifies images in the specified directory using a trained model.</p>
<section id="inputs">
<h3>Inputs:<a class="headerlink" href="#inputs" title="Link to this heading">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>input_dir (str, optional): Path to the directory containing the input images. Defaults to “dataset_imagery”.</p></li>
<li><p>trained_model (str, optional): Path to the trained model file. Defaults to “foggy_not_foggy.model”.</p></li>
</ul>
</div></blockquote>
</section>
<section id="id24">
<h3>Returns:<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>The function assumes that the input directory contains image files in JPG format.</p></li>
<li><p>The function uses a trained convolutional neural network model to classify the images.</p></li>
<li><p>It saves the classified images into separate directories based on their classification.</p></li>
</ul>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.displacement_to_volume">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">displacement_to_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">displacement_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope_output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#displacement_to_volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.displacement_to_volume" title="Link to this definition">¶</a></dt>
<dd><p>Process the DEM, aspect, and displacement rasters to calculate and export the slope, height change, and volume change.</p>
<p>Parameters:
dem_path (str): Path to the DEM raster file.
aspect_path (str): Path to the aspect raster file.
displacement_path (str): Path to the displacement raster file.
slope_output_path (str): Path for the slope output GeoTIFF file.
height_output_path (str): Path for the height change output GeoTIFF file.
volume_output_path (str): Path for the volume change output GeoTIFF file.
dx (float):  x Spatial resolution of the raster (distance between pixels).
dy (float):  y Spatial resolution of the raster (distance between pixels).
pixel_area (float): Area of a single pixel.</p>
<p>Returns:
None: Outputs GeoTIFF files at the specified output paths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.flip_geotiff_180">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">flip_geotiff_180</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#flip_geotiff_180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.flip_geotiff_180" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.move_files">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">move_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#move_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.move_files" title="Link to this definition">¶</a></dt>
<dd><p>This function reorganizes files in the specified directory. 
It searches for timestamps in filenames, creates subdirectories based on the hour part of the timestamp,
and moves files to the appropriate subdirectories. The files are renamed based on the year, month, and day of the timestamp.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>base_directory (str): Path of the directory containing the files to be reorganized.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.move_files_with_string">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">move_files_with_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.tif'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#move_files_with_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.move_files_with_string" title="Link to this definition">¶</a></dt>
<dd><p>Move files from a source directory to a destination directory based on a search string present in their paths.</p>
<p>Parameters:
- source_dir (str): The directory from which files are to be moved.
- dest_dir (str): The destination directory where files will be moved.
- search_string (str): The string to search for in the file paths.</p>
<p>This function traverses the source directory, including its subdirectories. 
Files whose paths contain the search string are moved to the destination directory. 
If a file with the same name exists in the destination, it’s renamed to avoid overwriting.</p>
<p>Errors during file movement (e.g., permission issues, non-existent directories) are logged but do not stop the process.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.resample_raster">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">resample_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resampling_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Resampling.nearest</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#resample_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.resample_raster" title="Link to this definition">¶</a></dt>
<dd><p>Resample the source raster array to match the destination raster’s resolution and extent.</p>
<p>Parameters:
- src_array: 2D numpy array of the source raster
- src_transform: affine.Affine transform of the source raster
- src_crs: CRS of the source raster
- dst_transform: affine.Affine transform of the destination raster
- dst_crs: CRS of the destination raster
- dst_shape: Shape of the destination raster (height, width)
- resampling_method: rasterio.enums.Resampling method to use for resampling</p>
<p>Returns:
- resampled_array: 2D numpy array of the resampled source raster</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.scatter_area_mask">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">scatter_area_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_Area_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vegetation_mask_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#scatter_area_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.scatter_area_mask" title="Link to this definition">¶</a></dt>
<dd><p>Create an accumulated scatter area mask from a set of raster images based on a given threshold. the input dataset is taken from ASF RTC processing.
The scattering area for each pixel in the RTC image in square meters. The values are calculated based on the effectively illuminated gamma-0 terrain surface using a digital elevation model, 
the local incidence angle map, and the layover-shadow map. see detailes at the following website <a class="reference external" href="https://hyp3-docs.asf.alaska.edu/guides/rtc_product_guide/#scattering-area-map">https://hyp3-docs.asf.alaska.edu/guides/rtc_product_guide/#scattering-area-map</a></p>
<p>The function processes each raster image in the input folder, crops it based on the provided AOI
from the shapefile, normalizes the cropped raster, and then converts the normalized image to a binary
mask based on the scatter_percentageArea_threshold. The binary masks from each raster are then accumulated
to generate the final scatter area mask.</p>
<section id="id25">
<h3>Parameters:<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input_folder<span class="classifier">str</span></dt><dd><p>Path to the folder containing raster files to be processed.</p>
</dd>
<dt>output_folder<span class="classifier">str</span></dt><dd><p>Directory where the final accumulated mask raster file will be saved.</p>
</dd>
<dt>plot_folder<span class="classifier">str</span></dt><dd><p>Directory where the visual representation (plot) of the accumulated mask will be saved.</p>
</dd>
<dt>shapefile_path<span class="classifier">str</span></dt><dd><p>Path to the shapefile containing the Area of Interest (AOI) for cropping the raster images.</p>
</dd>
<dt>scatter_Area_threshold<span class="classifier">float, optional (default=10) unit is perentage  square </span></dt><dd><p>Threshold for determining the binary mask from the normalized raster image. Pixels with values 
less than this threshold are set to 0 and those above are set to 1.</p>
</dd>
</dl>
</section>
<section id="id26">
<h3>Returns:<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<p>Shadow Mask for SAR image for sites less likey to have quality measurment points.
The results are saved as files in the specified output and plot directories.</p>
</section>
<section id="notes">
<h3>Notes:<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Assumes that there is only one geometry in the provided shapefile.</p></li>
<li><p>The accumulated mask is a result of multiplying binary masks from each raster. Therefore, a pixel in 
the accumulated mask will have a value of 1 only if all rasters have a value of 1 at that pixel location.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_Tools.utm_to_latlon">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_Tools.</span></span><span class="sig-name descname"><span class="pre">utm_to_latlon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">easting</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">northing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_letter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_Tools.html#utm_to_latlon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_Tools.utm_to_latlon" title="Link to this definition">¶</a></dt>
<dd><p>This program converts geographic projection of shapefiles from UTM to LATLONG</p>
<section id="id27">
<h3>Parameters<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<p>easting: Geopandas column with Easting</p>
<p>northing: Geopandas column with Northing</p>
<p>zone_number: int</p>
<p>zone_letter: “N” or “S”</p>
</section>
<section id="id28">
<h3>Returns<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<p>[lon , lat ]: List</p>
</section>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.Akhdefo_utils">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.Akhdefo_inversion">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">Akhdefo_inversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizontal_InSAR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vertical_InSAR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EW_Akhdefo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NS_Akhdefo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#Akhdefo_inversion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.Akhdefo_inversion" title="Link to this definition">¶</a></dt>
<dd><p>This program calculates 3D displacement velocity (East-West,North-South and vertical) using combined optical and InSAR products</p>
<section id="id29">
<h3>Parameters:<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>horizontal_InSAR: str</dt><dd><p>path to East Velocity InSAR product in geotif format</p>
</dd>
<dt>Vertical_InSAR: str</dt><dd><p>path to Vertical Velocity InSAR product in geotif format</p>
</dd>
<dt>EW_Akhdefo: str </dt><dd><p>path to east-west velocity  akhdefo(optical) product in geotif format</p>
</dd>
<dt>NS_Akhdefo: str</dt><dd><p>path to north-south velocity  akhdefo(optical) product in geotif format</p>
</dd>
<dt>dem_path: str</dt><dd><p>path to DEM raster in geotif format</p>
</dd>
<dt>output_folder<span class="classifier">str</span></dt><dd><p>path to save raster products</p>
</dd>
</dl>
</section>
<section id="id30">
<h3>Returns:<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Three geotif rasters</dt><dd><p>3D-Velocity (D3D in mm/year) raster
Plunge raster in degrees
Trend raster in degress</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.Akhdefo_resample">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">Akhdefo_resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_raster</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_raster</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SavFig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#Akhdefo_resample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.Akhdefo_resample" title="Link to this definition">¶</a></dt>
<dd><p>This program performs raster resampling for  rasters</p>
<section id="id31">
<h3>Parameters:<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input_raster: str</dt><dd><p>path to input raster</p>
</dd>
<dt>output_raster: str</dt><dd><p>path to output raster</p>
</dd>
<dt>xres: float</dt><dd><p>horizontal resolution</p>
</dd>
<dt>yres: float </dt><dd><p>vertical resolution</p>
</dd>
<dt>SavFig: bool</dt><dd><p>True to save output plot False to ignore exporting plot</p>
</dd>
<dt>convert_units: float </dt><dd><p>if not None converts raster value units from meter to mm: depends on your raster unit adjust this value</p>
</dd>
</dl>
</section>
<section id="id32">
<h3>Returns:<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>geotif raster</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.Auto_Variogram">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">Auto_Variogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_attribute=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latlon=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi_shapefile=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_size=20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_chunks=10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_percentage=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_fileName='interpolated_kriging'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_folder='kriging_plots'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_folder='geo_rasterFolder'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_kernel=2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask:</span> <span class="pre">[&lt;class</span> <span class="pre">'numpy.ndarray'&gt;]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UTM_Zone=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">krig_method='ordinary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drift_functions='linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detrend_data=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#Auto_Variogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.Auto_Variogram" title="Link to this definition">¶</a></dt>
<dd><p>This function performs automatic selection of the optimal variogram model for spatial data interpolation. 
It also supports clipping of the interpolation results to a specified Area of Interest (AOI). The function 
accepts both GeoDataFrame objects and file paths (specifically, shapefile paths) as input data sources.</p>
<section id="id33">
<h3>Parameters:<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>data<span class="classifier">str or gpd.GeoDataFrame, optional</span></dt><dd><p>The path to a shapefile containing point data, or a GeoDataFrame. For shapefiles, they must include 
‘x’, ‘y’ coordinates (or ‘lat’, ‘lon’ if latlon is set to True). Defaults to an empty string.</p>
</dd>
<dt>column_attribute<span class="classifier">str, optional</span></dt><dd><p>The name of the attribute within the shapefile or GeoDataFrame to be interpolated.</p>
</dd>
<dt>latlon<span class="classifier">bool, optional</span></dt><dd><p>Indicates whether the input data uses latitude and longitude (True) or Cartesian coordinates (False). 
Defaults to False.</p>
</dd>
<dt>aoi_shapefile<span class="classifier">str, optional</span></dt><dd><p>The path to a shapefile that defines the Area of Interest (AOI) for clipping the interpolation results. 
Defaults to an empty string.</p>
</dd>
<dt>pixel_size<span class="classifier">int, optional</span></dt><dd><p>The resolution size for the interpolated grid. Defaults to 20.</p>
</dd>
<dt>num_chunks<span class="classifier">int, optional</span></dt><dd><p>The number of chunks for processing to mitigate memory issues. Adjust as needed. Defaults to 10.</p>
</dd>
<dt>overlap_percentage<span class="classifier">float, optional</span></dt><dd><p>The percentage of overlap between chunks, ranging from 0 to 1.0. Defaults to 0.</p>
</dd>
<dt>out_fileName<span class="classifier">str, optional</span></dt><dd><p>The name for the output GeoTIFF file storing the interpolation results. Defaults to ‘interpolated_kriging’.</p>
</dd>
<dt>plot_folder<span class="classifier">str, optional</span></dt><dd><p>Directory path to save plots. Defaults to ‘kriging_plots’.</p>
</dd>
<dt>geo_folder<span class="classifier">str, optional</span></dt><dd><p>Directory path for saving geospatial raster files. Defaults to ‘geo_rasterFolder’.</p>
</dd>
<dt>smoothing_kernel<span class="classifier">int, optional</span></dt><dd><p>The size of the smoothing kernel to be used. Defaults to 2.</p>
</dd>
<dt>mask<span class="classifier">[np.ndarray], optional</span></dt><dd><p>A numpy array to be used as a mask for the interpolation.</p>
</dd>
<dt>UTM_Zone<span class="classifier">str, optional</span></dt><dd><p>The UTM Zone designation (‘N’ for Northern Hemisphere or ‘S’ for Southern Hemisphere).</p>
</dd>
<dt>krig_method<span class="classifier">str, optional</span></dt><dd><p>The method of kriging to be used, either ‘ordinary’ or ‘universal’. Defaults to ‘ordinary’.</p>
</dd>
<dt>drift_functions: str, optional </dt><dd><p>only works if krig_method=’universal’ available options “linear”, “quadratic”, “x”  , “y”</p>
</dd>
<dt>detrend_data<span class="classifier">bool , optional</span></dt><dd><p>if True removes the linear trend from the interpolated data and save the detrended data as geotif</p>
</dd>
</dl>
</section>
<section id="id34">
<h3>Returns:<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>numpy.ndarray</dt><dd><p>A 2D grid of interpolated values, clipped to the specified AOI if an AOI shapefile is provided.</p>
</dd>
</dl>
</section>
<section id="raises">
<h3>Raises:<a class="headerlink" href="#raises" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the input data is not a valid shapefile path or GeoDataFrame.
If essential columns (x, y or lat, lon) are missing in the input data.</p>
</dd>
</dl>
</section>
<section id="id35">
<h3>Notes:<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h3>
<p>The function generates two types of plots:
1. Fitted variogram models against the experimental variogram.
2. The interpolation result using the selected variogram model.</p>
</section>
<section id="dependencies">
<h3>Dependencies:<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h3>
<p>Requires geopandas, gstools, pykrige, matplotlib, and rasterio libraries.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.akhdefo_download_planet">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">akhdefo_download_planet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">planet_api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AOI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plinth.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'May</span> <span class="pre">1,</span> <span class="pre">2016'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PSOrthoTile'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_bundle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'analytic_sr_udm2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cloud_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw_data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#akhdefo_download_planet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.akhdefo_download_planet" title="Link to this definition">¶</a></dt>
<dd><section id="id36">
<h3>Parameters:<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h3>
<p>Note: To use this function need to call await as below:</p>
<p>await akhdefo_download_planet()</p>
<dl class="simple">
<dt>planet_api_key: str = “  “</dt><dd><p>input planet labs api</p>
</dd>
<dt>AOI: str = “plinth.json”</dt><dd><p>input area of interest in json file format</p>
</dd>
<dt>start_date: str = “May 1, 2016”</dt><dd><p>input start date as the following format “Month Day, Year”</p>
</dd>
<dt>end_date: str = “May 31, 2017”</dt><dd><p>input end date as the following format “Month day, Year”</p>
</dd>
<dt>limit: int = 5</dt><dd><p>input Maxumum number of images want to download; type None if you want to download images daily into the future but need to set the end_date empty as follow end_date=””</p>
</dd>
<dt>item_type: str = “PSOrthoTile”</dt><dd><p>input item type to downoload please refere to planet labs website for further detalis: 
PSScene:        PlanetScope 3, 4, and 8 band scenes captured by the Dove satellite constellation
REOrthoTile:    RapidEye OrthoTiles captured by the RapidEye satellite constellation
REScene:        Unorthorectified strips captured by the RapidEye satellite constellation
SkySatScene:    SkySat Scenes captured by the SkySat satellite constellation
SkySatCollect:  Orthorectified scene composite of a SkySat collection
SkySatVideo:    Full motion videos collected by a single camera from any of the active SkySats
Landsat8L1G     Landsat8 Scenes: provided by USgs Landsat8 satellite
Sentinel2L1C:   Copernicus Sentinel-2 Scenes provided by ESA Sentinel-2 satellite</p>
</dd>
<dt>product_bundle: str = “analytic_sr_udm2”</dt><dd><p>please refer to planetlabs website for further details and different options of product_bundle: default is analytic_sr_udm2
(analytic,analytic_udm2, analytic_3b_udm2, analytic_5b , analytic_5b_udm2 , analytic_8b_udm2, visual, uncalibrated_dn, 
uncalibrated_dn_udm2, basic_analytic, basic_analytic_udm2, basic_analytic_8b_udm2, basic_uncalibrated_dn,
basic_uncalibrated_dn_udm2, analytic_sr, analytic_sr_udm2, analytic_8b_sr_udm2, basic_analytic_nitf, 
basic_panchromatic, basic_panchromatic_dn, panchromatic, panchromatic_dn, panchromatic_dn_udm2,
pansharpened, pansharpened_udm2 , basic_l1a_dn)</p>
</dd>
<dt>clear_percent: int = 90</dt><dd><p>Quality of the scene, if you need to download best images keep this value min 90. although, it will end up with less image acquistion</p>
</dd>
<dt>cloud_filter: float = 0.1</dt><dd><p>cloud percentage</p>
</dd>
<dt>output_folder: str = “raw_data”</dt><dd><p>output directory to save the orders</p>
</dd>
<dt>clip_flag: bool</dt><dd><p>True to clip the downloads to Area of interest json file format provided above</p>
</dd>
<dt>download_data: bool </dt><dd><p>True to download the data or False to preview the data</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.akhdefo_orthorectify">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">akhdefo_orthorectify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_Dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ortho_usingRpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.tif'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#akhdefo_orthorectify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.akhdefo_orthorectify" title="Link to this definition">¶</a></dt>
<dd><section id="parameteres">
<h3>Parameteres:<a class="headerlink" href="#parameteres" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input_Dir: str</dt><dd><p>input unortho image directory path</p>
</dd>
<dt>dem_path: str </dt><dd><p>input path to DEM file</p>
</dd>
<dt>output_path: str</dt><dd><p>input path to output directory</p>
</dd>
<dt>ortho_usingRpc: bool</dt><dd><p>Use of RPC file for raw none-georectified satallite images</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.calculate_new_geotransform">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_new_geotransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overlap_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_transform</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#calculate_new_geotransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.calculate_new_geotransform" title="Link to this definition">¶</a></dt>
<dd><p>Calculate a new geotransform matrix based on the overlap of image boundaries.</p>
<section id="id37">
<h3>Parameters:<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>overlap_box (shapely.geometry.Polygon): The overlapping bounding box of all valid images.</p></li>
<li><p>src_transform (tuple): The source geotransform matrix to be modified.</p></li>
</ul>
</section>
<section id="id38">
<h3>Returns:<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>tuple: A new geotransform matrix corresponding to the overlap_box.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.check_shapefile_columns">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">check_shapefile_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latlon</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#check_shapefile_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.check_shapefile_columns" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.create_vegetation_mask">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">create_vegetation_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">red_band_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nir_band_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot.png'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#create_vegetation_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.create_vegetation_mask" title="Link to this definition">¶</a></dt>
<dd><p>Create a binary vegetation mask based on the NDVI (Normalized Difference Vegetation Index) calculation.</p>
<section id="id39">
<h3>Parameters:<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>red_band_path (str): </dt><dd><p>Path to the raster file containing the red band.</p>
</dd>
<dt>nir_band_path (str): </dt><dd><p>Path to the raster file containing the near-infrared (NIR) band.</p>
</dd>
<dt>output_path (str): </dt><dd><p>Path to save the generated vegetation mask raster.</p>
</dd>
<dt>shapefile_path (str): </dt><dd><p>Path to the shapefile that defines the area of interest (AOI).</p>
</dd>
<dt>threshold (float, optional):</dt><dd><p>NDVI threshold for determining vegetation. Pixels with NDVI less than this threshold are considered vegetation. Default is 0.3.</p>
</dd>
<dt>save_plot (bool, optional):</dt><dd><p>Whether to save a plot of the vegetation mask. Default is False.</p>
</dd>
<dt>plot_path (str, optional): </dt><dd><p>Path to save the plot if save_plot is True. Default is “plot.png”.</p>
</dd>
</dl>
</section>
<section id="id40">
<h3>Returns:<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h3>
<p>None. The vegetation mask is written to output_path, and optionally a plot is saved.</p>
<p>Note:
The function assumes that the shapefile contains only one geometry.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.crop_point_shapefile_with_aoi">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">crop_point_shapefile_with_aoi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_shapefile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi_shapefile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#crop_point_shapefile_with_aoi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.crop_point_shapefile_with_aoi" title="Link to this definition">¶</a></dt>
<dd><p>Crop a point shapefile with an Area of Interest (AOI) polygon shapefile.</p>
<section id="id41">
<h3>Parameters:<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>point_shapefile (str): Path to the input point shapefile.</p></li>
<li><p>aoi_shapefile (str): Path to the AOI polygon shapefile for cropping.</p></li>
<li><p>output_folder (str): Path to the folder where the cropped shapefile will be saved.</p></li>
</ul>
</section>
<section id="id42">
<h3>Returns:<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h3>
<p>None</p>
<p>This function reads a point shapefile and an AOI polygon shapefile, and performs a spatial
intersection to crop the points within the specified AOI. The resulting GeoDataFrame is then
saved as a new shapefile in the specified output folder. If no points are within the AOI, no
file is created, and a message is printed.</p>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">import</span> <span class="pre">akhdefo_functions,</span>
<span class="pre">from</span> <span class="pre">akhdefo_functions</span> <span class="pre">import</span> <span class="pre">crop_point_shapefile_with_aoi</span>
<span class="pre">`</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">point_file</span> <span class="pre">=</span> <span class="pre">&quot;path_to_points.shp&quot;</span>
<span class="pre">aoi_file</span> <span class="pre">=</span> <span class="pre">&quot;path_to_aoi.shp&quot;</span>
<span class="pre">output_folder</span> <span class="pre">=</span> <span class="pre">&quot;output_folder&quot;</span>
<span class="pre">`</span></code>
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">crop_point_shapefile_with_aoi(point_file,</span> <span class="pre">aoi_file,</span> <span class="pre">output_folder)</span>
<span class="pre">`</span></code></p>
<p>Note:
- Requires the GeoPandas library.
- The AOI polygon is dissolved into a single geometry for intersection.
- Both input GeoDataFrames must have the same Coordinate Reference System (CRS).
- The resulting shapefile is saved in the output folder with “_clipped” appended to the filename.
- If no points are within the AOI, no file is created, and a message is printed.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.crop_to_overlap">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">crop_to_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#crop_to_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.crop_to_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Crop all valid image files in the specified folder to the overlapping area.</p>
<p>This function performs the following steps:
1. Iterate through all files in the folder and identify valid image files.
2. Calculate the overlapping bounding box of all valid images.
3. Crop each valid image to the overlapping bounding box.
4. Overwrite the original image files with the cropped images.</p>
<section id="id43">
<h3>Parameters:<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>folder_path (str): The path to the folder containing the image files to be cropped.</p></li>
</ul>
</section>
<section id="id44">
<h3>Notes:<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Supports ‘.tif’, ‘.jpg’, ‘.png’, and ‘.bmp’ file formats.</p></li>
<li><p>Requires GDAL, OSR, and Shapely libraries.</p></li>
<li><p>The folder should contain images that share the same spatial reference system (projection).</p></li>
</ul>
<p>Exceptions are handled for permission errors and unexpected errors during the file overwriting process.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.download_RTC">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">download_RTC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asf_datapool_results_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rtc-test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_matching</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_dem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_inc_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_rgb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scattering_area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'amplitude'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speckle_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radiometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gamma0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'copernicus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RTC</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autorift</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_neighbors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#download_RTC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.download_RTC" title="Link to this definition">¶</a></dt>
<dd><p>Initiates the download of Synthetic Aperture Radar (SAR) products from ASF’s HyP3 platform.</p>
<p>This function facilitates the submission and download of SAR processing jobs, including Radiometric Terrain 
Correction (RTC), AutoRIFT, and InSAR products. It filters and selects granules based on the provided ASF datapool 
results file and other specified parameters.</p>
<section id="id45">
<h3>Parameters:<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>username (str): </dt><dd><p>ASF HyP3 username. Required unless prompt=True.</p>
</dd>
<dt>password (str):</dt><dd><p>ASF HyP3 password. Required unless prompt=True.</p>
</dd>
<dt>prompt (bool):</dt><dd><p>If True, use interactive prompts for login instead of username/password.</p>
</dd>
<dt>asf_datapool_results_file (str): </dt><dd><p>Path to ASF datapool results CSV file.</p>
</dd>
<dt>save_dir (str):</dt><dd><p>Directory where downloaded files will be saved.</p>
</dd>
<dt>job_name (str, optional): </dt><dd><p>Name for the job. Defaults to ‘rtc-test’.</p>
</dd>
<dt>dem_matching (bool, optional):</dt><dd><p>If True, perform DEM matching for RTC jobs. Defaults to True.</p>
</dd>
<dt>include_dem (bool, optional):</dt><dd><p>If True, include Digital Elevation Model in RTC jobs. Defaults to True.</p>
</dd>
<dt>include_inc_map (bool, optional):</dt><dd><p>If True, include incidence angle map in RTC jobs. Defaults to True.</p>
</dd>
<dt>include_rgb (bool, optional):</dt><dd><p>If True, include RGB decomposition in RTC jobs. Defaults to False.</p>
</dd>
<dt>include_scattering_area (bool, optional): </dt><dd><p>If True, include scattering area in RTC jobs. Defaults to False.</p>
</dd>
<dt>scale (str, optional):</dt><dd><p>Scale for the image in RTC jobs. Defaults to ‘amplitude’.</p>
</dd>
<dt>resolution (int, optional): </dt><dd><p>Desired resolution in meters for RTC jobs. Defaults to 10.</p>
</dd>
<dt>speckle_filter (bool, optional):</dt><dd><p>Apply Enhanced Lee speckle filter in RTC jobs. Defaults to True.</p>
</dd>
<dt>radiometry (str): </dt><dd><p>Radiometry normalization (either ‘sigma0’ or ‘gamma0’) for RTC jobs.</p>
</dd>
<dt>dem_name (str): </dt><dd><p>DEM to use for RTC jobs. ‘copernicus’ or ‘legacy’.</p>
</dd>
<dt>download (bool): </dt><dd><p>If True, submit jobs and download data. Defaults to False.</p>
</dd>
<dt>limit (int, optional): </dt><dd><p>Limit the number of images to download.</p>
</dd>
<dt>path_number (int, optional):</dt><dd><p>Filter granules by path number.</p>
</dd>
<dt>frame_number (int, optional): </dt><dd><p>Filter granules by frame number.</p>
</dd>
<dt>RTC (bool): </dt><dd><p>If True, process RTC jobs.</p>
</dd>
<dt>autorift (bool): </dt><dd><p>If True, process AutoRIFT jobs.</p>
</dd>
<dt>insar (bool):</dt><dd><p>If True, process InSAR jobs.</p>
</dd>
<dt>max_neighbors (int):</dt><dd><p>Max number of neighbors for InSAR job pairing.</p>
</dd>
</dl>
</section>
<section id="id46">
<h3>Returns:<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>sdk.Batch: A Batch object containing the submitted jobs.</p>
</div></blockquote>
</section>
<section id="id47">
<h3>Raises:<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>ValueError: If required arguments are not provided.</p>
</div></blockquote>
</section>
<section id="id48">
<h3>Notes:<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>This function requires prior installation of the HyP3 SDK and relevant dependencies.</p></li>
<li><p>The ASF datapool results file should be in CSV format with specific columns for filtering.</p></li>
<li><p>Downloaded files will be saved in the specified directory with additional suffixes based on the job type.</p></li>
</ul>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">measure_displacement_from_camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hls_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssim_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyr_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_video</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streamer_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mag'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#measure_displacement_from_camera"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera" title="Link to this definition">¶</a></dt>
<dd><p>Test data URLs; hls_url = “<a class="reference external" href="https://chiefcam.com/resources/video/events/september-2021-rockfall/september-2021-rockfall-1080p.mp4">https://chiefcam.com/resources/video/events/september-2021-rockfall/september-2021-rockfall-1080p.mp4</a>” or “<a class="reference external" href="https://chiefcam.com/video/hls/live/1080p/index.m3u8">https://chiefcam.com/video/hls/live/1080p/index.m3u8</a>”</p>
<p>Measure the displacement from the camera feed using Dense Optical Flow.</p>
<section id="id49">
<h3>Parameters:<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>hls_url: str</dt><dd><p>The URL of the HLS video stream. or type 0 to process video from live pc webcam or add path to your video</p>
</dd>
<dt>alpha: float, optional</dt><dd><p>The weight of the image to update the background model, default is 0.1.</p>
</dd>
<dt>save_output<span class="classifier">bool, optional</span></dt><dd><p>Flag to save the output, default is False.</p>
</dd>
<dt>output_filename<span class="classifier">str, optional</span></dt><dd><p>The filename for saving the output video, required if save_output is True.</p>
</dd>
<dt>ssim_threshold: float , default 0.4</dt><dd><p>if interetesed to identify rockfalls recommended value is 0.5 or less.</p>
</dd>
<dt>pyr_scale: float</dt><dd><p>parameter, specifying the image scale (&lt;1) to build pyramids for each image; pyr_scale=0.5 means a classical pyramid, where each next layer is twice smaller than the previous one.</p>
</dd>
<dt>levels: int</dt><dd><p>number of pyramid layers including the initial image; levels=1 means that no extra layers are created and only the original images are used.</p>
</dd>
<dt>winsize: int</dt><dd><p>averaging window size; larger values increase the algorithm robustness to image noise and give more chances for fast motion detection, but yield more blurred motion field.</p>
</dd>
<dt>iterations: int</dt><dd><p>number of iterations the algorithm does at each pyramid level.</p>
</dd>
<dt>poly_n: int</dt><dd><p>size of the pixel neighborhood used to find polynomial expansion in each pixel; 
larger values mean that the image will be approximated with smoother surfaces, 
yielding more robust algorithm and more blurred motion field, typically poly_n =5 or 7.</p>
</dd>
<dt>poly_sigma: float</dt><dd><p>standard deviation of the Gaussian that is used to smooth derivatives used as a basis for the polynomial expansion; 
for poly_n=5, you can set poly_sigma=1.1, for poly_n=7, a good value would be poly_sigma=1.5.</p>
</dd>
<dt>flags: 0 or 1</dt><dd><p>operation flags that can be a combination of the following:
0 OPTFLOW_USE_INITIAL_FLOW uses the input flow as an initial flow approximation.
1 OPTFLOW_FARNEBACK_GAUSSIAN uses the Gaussian winsize×winsize filter instead of a box filter of the same size for optical flow estimation; 
usually, this option gives z more accurate flow than with a box filter, at the cost of lower speed; 
normally, winsize for a Gaussian window should be set to a larger value to achieve the same level of robustness.</p>
</dd>
</dl>
</section>
<section id="id50">
<h3>Returns:<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>Video output with motion vectors and magnitude.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera_toFile">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">measure_displacement_from_camera_toFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hls_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssim_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyr_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_video</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#measure_displacement_from_camera_toFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera_toFile" title="Link to this definition">¶</a></dt>
<dd><p>Test data URLs; hls_url = “<a class="reference external" href="https://chiefcam.com/resources/video/events/september-2021-rockfall/september-2021-rockfall-1080p.mp4">https://chiefcam.com/resources/video/events/september-2021-rockfall/september-2021-rockfall-1080p.mp4</a>” or “<a class="reference external" href="https://chiefcam.com/video/hls/live/1080p/index.m3u8">https://chiefcam.com/video/hls/live/1080p/index.m3u8</a>”</p>
<p>Measure the displacement from the camera feed using Dense Optical Flow.</p>
<section id="id51">
<h3>Parameters:<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>hls_url: str</dt><dd><p>The URL of the HLS video stream. or type 0 to process video from live pc webcam or add path to your video</p>
</dd>
<dt>alpha: float, optional</dt><dd><p>The weight of the image to update the background model, default is 0.1.</p>
</dd>
<dt>save_output<span class="classifier">bool, optional</span></dt><dd><p>Flag to save the output, default is False.</p>
</dd>
<dt>output_filename<span class="classifier">str, optional</span></dt><dd><p>The filename for saving the output video, required if save_output is True.</p>
</dd>
<dt>ssim_threshold: float , default 0.4</dt><dd><p>if interetesed to identify rockfalls recommended value is 0.5 or less.</p>
</dd>
<dt>pyr_scale: float</dt><dd><p>parameter, specifying the image scale (&lt;1) to build pyramids for each image; pyr_scale=0.5 means a classical pyramid, where each next layer is twice smaller than the previous one.</p>
</dd>
<dt>levels: int</dt><dd><p>number of pyramid layers including the initial image; levels=1 means that no extra layers are created and only the original images are used.</p>
</dd>
<dt>winsize: int</dt><dd><p>averaging window size; larger values increase the algorithm robustness to image noise and give more chances for fast motion detection, but yield more blurred motion field.</p>
</dd>
<dt>iterations: int</dt><dd><p>number of iterations the algorithm does at each pyramid level.</p>
</dd>
<dt>poly_n: int</dt><dd><p>size of the pixel neighborhood used to find polynomial expansion in each pixel; 
larger values mean that the image will be approximated with smoother surfaces, 
yielding more robust algorithm and more blurred motion field, typically poly_n =5 or 7.</p>
</dd>
<dt>poly_sigma: float</dt><dd><p>standard deviation of the Gaussian that is used to smooth derivatives used as a basis for the polynomial expansion; 
for poly_n=5, you can set poly_sigma=1.1, for poly_n=7, a good value would be poly_sigma=1.5.</p>
</dd>
<dt>flags: 0 or 1</dt><dd><p>operation flags that can be a combination of the following:
0 OPTFLOW_USE_INITIAL_FLOW uses the input flow as an initial flow approximation.
1 OPTFLOW_FARNEBACK_GAUSSIAN uses the Gaussian winsize×winsize filter instead of a box filter of the same size for optical flow estimation; 
usually, this option gives z more accurate flow than with a box filter, at the cost of lower speed; 
normally, winsize for a Gaussian window should be set to a larger value to achieve the same level of robustness.</p>
</dd>
</dl>
</section>
<section id="id52">
<h3>Returns:<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>Video output with motion vectors and magnitude.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_utils.reproject_raster_to_match_shapefile">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_utils.</span></span><span class="sig-name descname"><span class="pre">reproject_raster_to_match_shapefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_utils.html#reproject_raster_to_match_shapefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_utils.reproject_raster_to_match_shapefile" title="Link to this definition">¶</a></dt>
<dd><p>Reproject a raster to match the coordinate reference system (CRS) of a shapefile.</p>
<section id="id53">
<h3>Parameters:<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>src_path (str): Path to the source raster file that needs to be reprojected.</p></li>
<li><p>dst_path (str): Path to save the reprojected raster.</p></li>
<li><p>dst_crs (CRS or str): Target coordinate reference system.</p></li>
</ul>
</section>
<section id="id54">
<h3>Returns:<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h3>
<p>None. The reprojected raster is written to dst_path.</p>
</section>
</dd></dl>

<dl class="py function" id="module-akhdefo_functions.Unzip_CopyFiles">
<dt class="sig sig-object py" id="akhdefo_functions.Unzip_CopyFiles.copyImage_Data">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Unzip_CopyFiles.</span></span><span class="sig-name descname"><span class="pre">copyImage_Data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_unzipped_folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path_to_raster_tifs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Unzip_CopyFiles.html#copyImage_Data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Unzip_CopyFiles.copyImage_Data" title="Link to this definition">¶</a></dt>
<dd><p>This program copy all the data images into one single folder from subdirectories.</p>
<section id="id55">
<h3>Parameters<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h3>
<p>path_to_unzipped_folders : str</p>
<p>Path_to_raster_tifs : str</p>
<dl class="simple">
<dt>file_ext: str</dt><dd><p>ignore this option if you want to copy all the files or
type extension of the files of interestest such as “.tif”</p>
</dd>
</dl>
</section>
<section id="id56">
<h3>Returns<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h3>
<p>rasters</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Unzip_CopyFiles.copyUDM2_Mask_Data">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Unzip_CopyFiles.</span></span><span class="sig-name descname"><span class="pre">copyUDM2_Mask_Data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_unzipped_folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path_to_UDM2raster_tifs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Unzip_CopyFiles.html#copyUDM2_Mask_Data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Unzip_CopyFiles.copyUDM2_Mask_Data" title="Link to this definition">¶</a></dt>
<dd><p>This program copy all  raster masks.</p>
<section id="id57">
<h3>Parameters<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>path_to_unzipped_folders<span class="classifier">str</span></dt><dd><p>file extension must end with udm2_clip.tif</p>
</dd>
</dl>
<p>Path_to_UDM2raster_tifs : str</p>
</section>
<section id="id58">
<h3>Returns<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h3>
<p>rasters</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Unzip_CopyFiles.read_data_prep">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Unzip_CopyFiles.</span></span><span class="sig-name descname"><span class="pre">read_data_prep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'image_dir'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_image_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BGRN_SR_clip.tif'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">udm_mask_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'udm_mask_dir'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_udm_mask_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'udm2_clip.tif'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Unzip_CopyFiles.html#read_data_prep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Unzip_CopyFiles.read_data_prep" title="Link to this definition">¶</a></dt>
<dd><p>This program reads planetlabs orthoimagery in zipfolder format
create different directory for the raster images and corresponding unusable data masks(udm)
the udm mask include snow, haze, etc… see planetslabs udm mask types for further details</p>
<section id="id59">
<h3>Parameters<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>zip_dir: str</dt><dd><p>path to directory contains all the zipfiles</p>
</dd>
<dt>image_dir: str</dt><dd><p>path to folder contains only raster data images</p>
</dd>
<dt>udm_mask_dir: str</dt><dd><p>path to folder contains only udm mask ratsers</p>
</dd>
</dl>
</section>
<section id="id60">
<h3>Returns<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h3>
<p>unzip folder
image_dir
udm_mask_dir</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Unzip_CopyFiles.unzip">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Unzip_CopyFiles.</span></span><span class="sig-name descname"><span class="pre">unzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zipdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Unzip_CopyFiles.html#unzip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Unzip_CopyFiles.unzip" title="Link to this definition">¶</a></dt>
<dd><p>This program unzips all the zip products into one folder</p>
<section id="id61">
<h3>Parameters<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>zipdir<span class="classifier">str</span></dt><dd><p>path to directory contains all the zipfiles</p>
</dd>
<dt>dst_dir<span class="classifier">str</span></dt><dd><p>path to destination folder to copy all unzipped products.</p>
</dd>
</dl>
</section>
<section id="id62">
<h3>Returns<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h3>
<p>unzip folder</p>
</section>
</dd></dl>

</section>
<section id="module-akhdefo_functions.Akhdefo_GOI">
<span id="geospatial-operations"></span><h2>Geospatial Operations<a class="headerlink" href="#module-akhdefo_functions.Akhdefo_GOI" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.Optical_flow_akhdefo">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">Optical_flow_akhdefo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AOI</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zscore_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssim_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'3125mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vegetation_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'year'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_Mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">good_match_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hillshade_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_triplet_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_percentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyr_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_Mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'triplet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">krig_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ordinary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_detrend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#Optical_flow_akhdefo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.Optical_flow_akhdefo" title="Link to this definition">¶</a></dt>
<dd><p>Performs feature matching and velocity/displacement calculations across a series of images.</p>
<section id="id63">
<h3>Parameters<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input_dir: str</dt><dd><p>Path to the directory where the input images are stored.</p>
</dd>
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path to the directory where the output files will be saved.</p>
</dd>
<dt>AOI<span class="classifier">str</span></dt><dd><p>The shapefile that represents the Area of Interest (AOI).</p>
</dd>
<dt>zscore_threshold<span class="classifier">float</span></dt><dd><p>The threshold value used to filter matches based on their Z-score.</p>
</dd>
<dt>image_resolution<span class="classifier">str</span></dt><dd><p>The resolution of the images specified per pixel. This can be expressed in various units 
like ‘3125mm’, ‘3.125m’ or ‘3.125meter’.</p>
</dd>
<dt>VEL_scale: (str, optional)</dt><dd><p>options year, month, None , default year</p>
</dd>
<dt>VEL_Mode: str</dt><dd><p>Options linear or mean , default linear</p>
</dd>
<dt>good_match_option: float</dt><dd><p>ratio test as per Lowe’s paper default 0.75</p>
</dd>
<dt>shapefile_output: bool</dt><dd><p>True to export timeseries as deformation products as shapefile, default False</p>
</dd>
<dt>max_triplet_interval: int </dt><dd><p>Maximum interval days between images allowed to form triplets</p>
</dd>
<dt>master_reference: str </dt><dd><p>single, multiple, None</p>
</dd>
<dt>Vegetation_mask: (str, optional)</dt><dd><p>Path to a raster file that represents a vegetation mask. Pixels in the input image
that correspond to non-vegetation in the mask will be set to one.</p>
</dd>
<dt>pyr_scale: float</dt><dd><p>parameter, specifying the image scale (&lt;1) to build pyramids for each image; pyr_scale=0.5 means a classical pyramid, where each next layer is twice smaller than the previous one.</p>
</dd>
<dt>levels: int</dt><dd><p>number of pyramid layers including the initial image; levels=1 means that no extra layers are created and only the original images are used.</p>
</dd>
<dt>winsize: int</dt><dd><p>averaging window size; larger values increase the algorithm robustness to image noise and give more chances for fast motion detection, but yield more blurred motion field.</p>
</dd>
<dt>iterations: int</dt><dd><p>number of iterations the algorithm does at each pyramid level.</p>
</dd>
<dt>poly_n: int</dt><dd><p>size of the pixel neighborhood used to find polynomial expansion in each pixel; 
larger values mean that the image will be approximated with smoother surfaces, 
yielding more robust algorithm and more blurred motion field, typically poly_n =5 or 7.</p>
</dd>
<dt>poly_sigma: float</dt><dd><p>standard deviation of the Gaussian that is used to smooth derivatives used as a basis for the polynomial expansion; 
for poly_n=5, you can set poly_sigma=1.1, for poly_n=7, a good value would be poly_sigma=1.5.</p>
</dd>
<dt>flags: 0 or 1</dt><dd><p>operation flags that can be a combination of the following:
0 OPTFLOW_USE_INITIAL_FLOW uses the input flow as an initial flow approximation.
1 OPTFLOW_FARNEBACK_GAUSSIAN uses the Gaussian winsize×winsize filter instead of a box filter of the same size for optical flow estimation; 
usually, this option gives z more accurate flow than with a box filter, at the cost of lower speed; 
normally, winsize for a Gaussian window should be set to a larger value to achieve the same level of robustness.</p>
</dd>
<dt>start_date: str (example 20210203)</dt><dd><p>The start date of the image series.</p>
</dd>
<dt>end_date: str (example 20210503)</dt><dd><p>The end date of the image series.</p>
</dd>
<dt>krig_method: str ‘ordinary’ , ‘simple’ , ‘universal’</dt><dd><p>selection of kriging interpolation method, the workflow is based on gstools library. default is ‘ordinary’</p>
</dd>
</dl>
</section>
<section id="id64">
<h3>Returns<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>image1<span class="classifier">numpy.ndarray</span></dt><dd><p>The first image in the series.</p>
</dd>
<dt>image3<span class="classifier">numpy.ndarray</span></dt><dd><p>The third image in the series.</p>
</dd>
<dt>mean_vel_list<span class="classifier">list</span></dt><dd><p>A list of mean velocity arrays, each array corresponding to a pair of images.</p>
</dd>
<dt>mean_flowx_list<span class="classifier">list</span></dt><dd><p>A list of mean x-flow arrays, each array corresponding to a pair of images.</p>
</dd>
<dt>mean_flowy_list<span class="classifier">list</span></dt><dd><p>A list of mean y-flow arrays, each array corresponding to a pair of images.</p>
</dd>
<dt>points1_i<span class="classifier">numpy.ndarray</span></dt><dd><p>Array of keypoints for the first image in the last pair.</p>
</dd>
<dt>points2<span class="classifier">numpy.ndarray</span></dt><dd><p>Array of keypoints for the second image in the last pair.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.calculate_slopes_std_and_residuals">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">calculate_slopes_std_and_residuals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geodataframe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#calculate_slopes_std_and_residuals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.calculate_slopes_std_and_residuals" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.correct_date_format">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">correct_date_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#correct_date_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.correct_date_format" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.find_best_match">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">find_best_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#find_best_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.find_best_match" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.interpolate_xyz">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">interpolate_xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_raster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#interpolate_xyz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.interpolate_xyz" title="Link to this definition">¶</a></dt>
<dd><p>Save XYZ data as a GeoTIFF file using a reference raster for geospatial context.</p>
<p>This function takes X, Y, Z coordinate data and generates a GeoTIFF file. The geospatial context
is derived from a reference raster file. The function supports optional interpolation of Z values,
spatial smoothing, and masking based on a shapefile or a predefined  mask.</p>
<dl>
<dt>Parameters:</dt><dd><p>x (array_like): Array of X coordinates.
y (array_like): Array of Y coordinates.
z (array_like): Array of Z values corresponding to X and Y coordinates.
filename (str): The base name of the output GeoTIFF file (without file extension).
reference_raster (str): Path to the reference raster file used for spatial context (CRS, bounds, etc.).
shapefile (str, optional): Path to a shapefile for masking the output raster. Defaults to None.
interpolate (str, optional): Interpolation method to be used (e.g., ‘linear’, ‘nearest’). If None, a nearest-neighbor approach is applied. Defaults to None.
smoothing_kernel_size (int or float, optional): The size of the Gaussian kernel used for smoothing the Z values. Defaults to None.
mask (array_like, optional): A boolean mask array to mask vegetation areas. Defaults to None.</p>
</dd>
<dt>Returns:</dt><dd><p>numpy.ndarray: The array of interpolated/smoothed Z values, which is also saved as a GeoTIFF file.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If an error occurs during the process.</p>
<p>Notes:
- The function uses <cite>rasterio</cite> for raster operations and <cite>numpy</cite> and <cite>scipy</cite> for data processing.
- The output GeoTIFF file will have the same spatial extent, resolution, and coordinate reference system (CRS) as the reference raster.
- If ‘interpolate’ is not None, Z values are interpolated over the grid defined by the reference raster. Out-of-range interpolated values are replaced with the mean of valid data points.
- If ‘smoothing_kernel_size’ is provided, a Gaussian smoothing is applied to the Z values.
- Masking with either a shapefile or a vegetation mask will set the corresponding areas to NaN.
- The output file is named using the ‘filename’ parameter with ‘.tif’ extension.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.linear_VEL">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">linear_VEL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dnames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#linear_VEL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.linear_VEL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.mask_all_rasters_in_directory">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">mask_all_rasters_in_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_raster_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#mask_all_rasters_in_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.mask_all_rasters_in_directory" title="Link to this definition">¶</a></dt>
<dd><p>Masks all georeferenced raster files in a specified directory using a binary raster mask template.</p>
<p>Parameters:
- directory (str): Path to the directory containing the georeferenced raster files.
- mask_raster_path (str): Path to the binary raster mask template.</p>
<p>Returns:
None. Each raster file in the specified directory will be replaced by its corresponding masked raster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.mask_raster">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">mask_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dem_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_data_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#mask_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.mask_raster" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>Mask a given raster (DEM) array using a binary mask and optionally filter scatter plot data based on the same mask.</p></li>
<li><p>dem_array (np.ndarray, optional): The 2D or 3D input raster array to be masked. If 3D, the last dimension is assumed to be the channel dimension (e.g., RGB).</p></li>
<li><p>mask_path (str): The path to the raster file containing the binary mask. Values of 1 in the mask represent areas to keep, and values of 0 represent areas to mask out.</p></li>
<li><p>no_data_value (scalar, optional): The value to replace the masked regions with in the <cite>dem_array</cite>. Defaults to np.nan.</p></li>
<li><p>scatter_x (np.ndarray, optional): The x-coordinates of scatter plot data to be filtered based on the mask. If provided, <cite>scatter_y</cite> must also be provided.</p></li>
<li><p>scatter_y (np.ndarray, optional): The y-coordinates of scatter plot data to be filtered based on the mask. If provided, <cite>scatter_x</cite> must also be provided.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>np.ndarray: The masked raster array. This array will be of the same shape and data type as the input <cite>dem_array</cite>.</p></li>
<li><p>(If scatter_x and scatter_y are provided)</p></li>
<li><p>np.ndarray: The x-coordinates of the scatter plot data after filtering with the mask.</p></li>
<li><p>np.ndarray: The y-coordinates of the scatter plot data after filtering with the mask.</p></li>
</ul>
</dd>
<dt>Note:</dt><dd><p>If the <cite>dem_array</cite> data type is integer and the <cite>no_data_value</cite> is np.nan, the function will 
replace NaN values with a default “no data” integer value (-9999) before casting back to the 
original data type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.mask_raster_with_template">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">mask_raster_with_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_raster_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_raster_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noData_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#mask_raster_with_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.mask_raster_with_template" title="Link to this definition">¶</a></dt>
<dd><p>Masks a georeferenced raster file using a binary raster mask template.</p>
<p>Parameters:
- input_raster_path (str): Path to the input georeferenced raster file.
- mask_raster_path (str): Path to the binary raster mask template.</p>
<p>Returns:
None. The input raster file will be replaced by the masked raster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.merge_geodataframes">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">merge_geodataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdfs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#merge_geodataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.merge_geodataframes" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.merge_geodataframes_generator">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">merge_geodataframes_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdfs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#merge_geodataframes_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.merge_geodataframes_generator" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.process_shapefile_with_rasters">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">process_shapefile_with_rasters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shapefile_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rasterfile_paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#process_shapefile_with_rasters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.process_shapefile_with_rasters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="akhdefo_functions.Akhdefo_GOI.update_nodata_values">
<span class="sig-prename descclassname"><span class="pre">akhdefo_functions.Akhdefo_GOI.</span></span><span class="sig-name descname"><span class="pre">update_nodata_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shapefile_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rasterfile_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_Mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">VEL_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Total_days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/Akhdefo_GOI.html#update_nodata_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.Akhdefo_GOI.update_nodata_values" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-akhdefo_functions.video_streamer">
<span id="video-processing"></span><h2>Video Processing<a class="headerlink" href="#module-akhdefo_functions.video_streamer" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="akhdefo_functions.video_streamer.VideoStreamer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">akhdefo_functions.video_streamer.</span></span><span class="sig-name descname"><span class="pre">VideoStreamer</span></span><a class="reference internal" href="_modules/akhdefo_functions/video_streamer.html#VideoStreamer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.video_streamer.VideoStreamer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A Flask-based web application for streaming video from a camera or video file.</p>
<p>This class encapsulates the functionalities of streaming video using the OpenCV library
and custom processing from the ‘akhdefo_functions’ module. It sets up a Flask server
with routes to handle video streaming and the main index page.</p>
<dl>
<dt>Attributes:</dt><dd><p>args: Command-line arguments for configuration.
app: The Flask application instance.</p>
</dd>
<dt>Methods:</dt><dd><p>generate_frames1(): Generates and yields encoded frames with specific processing parameters.
generate_frames2(): Similar to generate_frames1() but with different parameters.
setup_routes(): Sets up the Flask routes for the application.
run(): Starts the Flask server.</p>
</dd>
<dt>Examples:</dt><dd><p>To run the application, first ensure that all dependencies are installed. Then, execute
the script from the command line with the necessary arguments. For example:</p>
<blockquote>
<div><p>python video_streamer.py –port 5000</p>
</div></blockquote>
<p>This command runs the Flask server on port 5000. You can access the main page at
<cite>http://localhost:5000/</cite>. For streaming video, access <cite>http://localhost:5000/video1</cite>
or <cite>http://localhost:5000/video2</cite>.</p>
</dd>
<dt>Note:</dt><dd><p>Ensure that the ‘akhdefo_functions’ module and other dependencies are properly installed
and accessible to the script. If using custom modules, they should be in the same directory
as the script or in a location where Python can find them.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="akhdefo_functions.video_streamer.VideoStreamer.generate_frames1">
<span class="sig-name descname"><span class="pre">generate_frames1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/video_streamer.html#VideoStreamer.generate_frames1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.video_streamer.VideoStreamer.generate_frames1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="akhdefo_functions.video_streamer.VideoStreamer.generate_frames2">
<span class="sig-name descname"><span class="pre">generate_frames2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/video_streamer.html#VideoStreamer.generate_frames2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.video_streamer.VideoStreamer.generate_frames2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="akhdefo_functions.video_streamer.VideoStreamer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/video_streamer.html#VideoStreamer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.video_streamer.VideoStreamer.run" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="akhdefo_functions.video_streamer.VideoStreamer.setup_routes">
<span class="sig-name descname"><span class="pre">setup_routes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/akhdefo_functions/video_streamer.html#VideoStreamer.setup_routes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#akhdefo_functions.video_streamer.VideoStreamer.setup_routes" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/akhdefo_logo.svg" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">akhdefo_functions package</a><ul>
<li><a class="reference internal" href="#module-akhdefo_functions.Akhdefo_Coreg">Data Processing</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Coreg.Coregistration"><code class="docutils literal notranslate"><span class="pre">Coregistration()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Coreg.raster_alignment"><code class="docutils literal notranslate"><span class="pre">raster_alignment()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Filter_PreProc.Filter_PreProcess"><code class="docutils literal notranslate"><span class="pre">Filter_PreProcess()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Filter_PreProc.Raster_Correction"><code class="docutils literal notranslate"><span class="pre">Raster_Correction()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Mosaic_Crop.Crop_to_AOI"><code class="docutils literal notranslate"><span class="pre">Crop_to_AOI()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Mosaic_Crop.Mosaic"><code class="docutils literal notranslate"><span class="pre">Mosaic()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Mosaic_Crop.rasterClip"><code class="docutils literal notranslate"><span class="pre">rasterClip()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.OpticalFlow.DynamicChangeDetection"><code class="docutils literal notranslate"><span class="pre">DynamicChangeDetection()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.OpticalFlow.binary_mask"><code class="docutils literal notranslate"><span class="pre">binary_mask()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-akhdefo_functions.AkhdefoPlot">Visualization</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.AkhdefoPlot.MeanProducts_plot_ts"><code class="docutils literal notranslate"><span class="pre">MeanProducts_plot_ts()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.AkhdefoPlot.akhdefo_ts_plot"><code class="docutils literal notranslate"><span class="pre">akhdefo_ts_plot()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.AkhdefoPlot.akhdefo_viewer"><code class="docutils literal notranslate"><span class="pre">akhdefo_viewer()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.AkhdefoPlot.plot_stackNetwork"><code class="docutils literal notranslate"><span class="pre">plot_stackNetwork()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-akhdefo_functions.Akhdefo_TS">Time Series Analysis</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_TS.Time_Series"><code class="docutils literal notranslate"><span class="pre">Time_Series()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_TS.akhdefo_dashApp"><code class="docutils literal notranslate"><span class="pre">akhdefo_dashApp()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Stacked_Velocity.stackprep"><code class="docutils literal notranslate"><span class="pre">stackprep()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-akhdefo_functions.Akhdefo_Tools">Utilities</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.LeNet"><code class="docutils literal notranslate"><span class="pre">LeNet</span></code></a><ul>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.LeNet.build"><code class="docutils literal notranslate"><span class="pre">LeNet.build()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.Lenet_Model_training"><code class="docutils literal notranslate"><span class="pre">Lenet_Model_training()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.akhdefo_fitPlane"><code class="docutils literal notranslate"><span class="pre">akhdefo_fitPlane()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.assign_fake_projection"><code class="docutils literal notranslate"><span class="pre">assign_fake_projection()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.calculate_and_save_aspect_raster"><code class="docutils literal notranslate"><span class="pre">calculate_and_save_aspect_raster()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.calculate_height_change"><code class="docutils literal notranslate"><span class="pre">calculate_height_change()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.calculate_slope"><code class="docutils literal notranslate"><span class="pre">calculate_slope()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.calculate_volume"><code class="docutils literal notranslate"><span class="pre">calculate_volume()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.calculate_volume_change"><code class="docutils literal notranslate"><span class="pre">calculate_volume_change()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.classification"><code class="docutils literal notranslate"><span class="pre">classification()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.displacement_to_volume"><code class="docutils literal notranslate"><span class="pre">displacement_to_volume()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.flip_geotiff_180"><code class="docutils literal notranslate"><span class="pre">flip_geotiff_180()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.move_files"><code class="docutils literal notranslate"><span class="pre">move_files()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.move_files_with_string"><code class="docutils literal notranslate"><span class="pre">move_files_with_string()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.resample_raster"><code class="docutils literal notranslate"><span class="pre">resample_raster()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.scatter_area_mask"><code class="docutils literal notranslate"><span class="pre">scatter_area_mask()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_Tools.utm_to_latlon"><code class="docutils literal notranslate"><span class="pre">utm_to_latlon()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.Akhdefo_inversion"><code class="docutils literal notranslate"><span class="pre">Akhdefo_inversion()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.Akhdefo_resample"><code class="docutils literal notranslate"><span class="pre">Akhdefo_resample()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.Auto_Variogram"><code class="docutils literal notranslate"><span class="pre">Auto_Variogram()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.akhdefo_download_planet"><code class="docutils literal notranslate"><span class="pre">akhdefo_download_planet()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.akhdefo_orthorectify"><code class="docutils literal notranslate"><span class="pre">akhdefo_orthorectify()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.calculate_new_geotransform"><code class="docutils literal notranslate"><span class="pre">calculate_new_geotransform()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.check_shapefile_columns"><code class="docutils literal notranslate"><span class="pre">check_shapefile_columns()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.create_vegetation_mask"><code class="docutils literal notranslate"><span class="pre">create_vegetation_mask()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.crop_point_shapefile_with_aoi"><code class="docutils literal notranslate"><span class="pre">crop_point_shapefile_with_aoi()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.crop_to_overlap"><code class="docutils literal notranslate"><span class="pre">crop_to_overlap()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.download_RTC"><code class="docutils literal notranslate"><span class="pre">download_RTC()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera"><code class="docutils literal notranslate"><span class="pre">measure_displacement_from_camera()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.measure_displacement_from_camera_toFile"><code class="docutils literal notranslate"><span class="pre">measure_displacement_from_camera_toFile()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_utils.reproject_raster_to_match_shapefile"><code class="docutils literal notranslate"><span class="pre">reproject_raster_to_match_shapefile()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Unzip_CopyFiles.copyImage_Data"><code class="docutils literal notranslate"><span class="pre">copyImage_Data()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Unzip_CopyFiles.copyUDM2_Mask_Data"><code class="docutils literal notranslate"><span class="pre">copyUDM2_Mask_Data()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Unzip_CopyFiles.read_data_prep"><code class="docutils literal notranslate"><span class="pre">read_data_prep()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Unzip_CopyFiles.unzip"><code class="docutils literal notranslate"><span class="pre">unzip()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-akhdefo_functions.Akhdefo_GOI">Geospatial Operations</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.Optical_flow_akhdefo"><code class="docutils literal notranslate"><span class="pre">Optical_flow_akhdefo()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.calculate_slopes_std_and_residuals"><code class="docutils literal notranslate"><span class="pre">calculate_slopes_std_and_residuals()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.correct_date_format"><code class="docutils literal notranslate"><span class="pre">correct_date_format()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.find_best_match"><code class="docutils literal notranslate"><span class="pre">find_best_match()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.interpolate_xyz"><code class="docutils literal notranslate"><span class="pre">interpolate_xyz()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.linear_VEL"><code class="docutils literal notranslate"><span class="pre">linear_VEL()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.mask_all_rasters_in_directory"><code class="docutils literal notranslate"><span class="pre">mask_all_rasters_in_directory()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.mask_raster"><code class="docutils literal notranslate"><span class="pre">mask_raster()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.mask_raster_with_template"><code class="docutils literal notranslate"><span class="pre">mask_raster_with_template()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.merge_geodataframes"><code class="docutils literal notranslate"><span class="pre">merge_geodataframes()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.merge_geodataframes_generator"><code class="docutils literal notranslate"><span class="pre">merge_geodataframes_generator()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.process_shapefile_with_rasters"><code class="docutils literal notranslate"><span class="pre">process_shapefile_with_rasters()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.Akhdefo_GOI.update_nodata_values"><code class="docutils literal notranslate"><span class="pre">update_nodata_values()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-akhdefo_functions.video_streamer">Video Processing</a><ul>
<li><a class="reference internal" href="#akhdefo_functions.video_streamer.VideoStreamer"><code class="docutils literal notranslate"><span class="pre">VideoStreamer</span></code></a><ul>
<li><a class="reference internal" href="#akhdefo_functions.video_streamer.VideoStreamer.generate_frames1"><code class="docutils literal notranslate"><span class="pre">VideoStreamer.generate_frames1()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.video_streamer.VideoStreamer.generate_frames2"><code class="docutils literal notranslate"><span class="pre">VideoStreamer.generate_frames2()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.video_streamer.VideoStreamer.run"><code class="docutils literal notranslate"><span class="pre">VideoStreamer.run()</span></code></a></li>
<li><a class="reference internal" href="#akhdefo_functions.video_streamer.VideoStreamer.setup_routes"><code class="docutils literal notranslate"><span class="pre">VideoStreamer.setup_routes()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
      <li><a href="modules.html">Documentation</a>
        <ul>
          <li>Previous: <a href="modules.html" title="previous chapter">Documentation</a>
          <li>Next: <a href="notebooks/RockGlacier_optical.html" title="next chapter">Morenny Rock Glacier Optical Imagery Example</a></ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Mahmud Mustafa Muhammad.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  <script src="_static/version_warning_offset.js"></script>

  </body>
</html>